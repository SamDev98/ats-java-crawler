# ===========================================
# ATS Java Crawler v0.4.1 - OTIMIZADO
# ===========================================

# Server
server.port=8080

# Database
spring.datasource.url=${DB_URL:jdbc:postgresql://localhost:5432/ats}
spring.datasource.username=${DB_USER:postgres}
spring.datasource.password=${DB_PASS:postgres}
spring.datasource.hikari.maximum-pool-size=5
spring.datasource.hikari.minimum-idle=2
spring.datasource.hikari.connection-timeout=20000

# JPA
spring.jpa.hibernate.ddl-auto=update
spring.jpa.properties.hibernate.format_sql=false
spring.jpa.properties.hibernate.jdbc.batch_size=20
spring.jpa.properties.hibernate.order_inserts=true
spring.jpa.properties.hibernate.order_updates=true
spring.jpa.show-sql=false

# HTTP Client
http.connect-timeout=10000
http.socket-timeout=15000
http.max-retries=2

# Crawler
crawler.cron-expression=${CRON_EXPRESSION:0 0 7 * * *}
crawler.cron-zone=${CRON_ZONE:UTC}
crawler.expiry-days=${EXPIRY_DAYS:15}

# ============================================
# ? ATS FUNCIONANDO (baseado nos logs)
# ============================================

# ? Greenhouse - 803 jobs fetched (EXCELENTE!)
crawler.greenhouse-companies=${ATS_GREENHOUSE:robinhood,mercury,intercom,mixpanel,amplitude,poshmark,retool,webflow,lattice,ebanx,c6bank,stabilityai,marqeta,vercel}
# ? BreezyHR - 4 jobs (BOM)
crawler.breezy-companies=${ATS_BREEZY:zapier,hubstaff,helloalice,everlaw}
# ? Recruitee - 6 jobs (BOM)
crawler.recruitee-companies=${ATS_RECRUITEE:timedoctor}
# Lever - 401 Unauthorized (precisa autenticação)
crawler.lever-companies=${ATS_LEVER:neon}

filter.role-keywords=\\bjava\\b,\\bspring\\b,\\bkotlin\\b,\\bjvm\\b,backend engineer,java developer
filter.include-keywords=
filter.exclude-keywords=\
  us only,usa only,united states only,u.s. only,\
  must be in,must be located in,must reside in,\
  on-site,onsite,in-office,office located,\
  hybrid,\
  visa required,work authorization,\
  san francisco only,new york only,seattle only
# ============================================
# GOOGLE SHEETS - HABILITADO
# ============================================
sheets.enabled=${SHEETS_ENABLED:true}
sheets.spreadsheetId=${GOOGLE_SHEETS_ID:}
google.credentials=${GOOGLE_APPLICATION_CREDENTIALS:src/main/resources/credentials.json}
discord.webhook=${DISCORD_WEBHOOK:}

# ============================================
# LOGGING
# ============================================
logging.level.root=INFO
logging.level.com.atscrawler=INFO
logging.level.org.springframework.web=WARN
logging.level.org.hibernate=WARN

# ============================================
# PERFORMANCE
# ============================================
spring.jpa.properties.hibernate.jdbc.fetch_size=50
spring.jpa.properties.hibernate.cache.use_second_level_cache=false
spring.jpa.properties.hibernate.cache.use_query_cache=false
spring.jpa.open-in-view=false
spring.main.lazy-initialization=false