# ===========================================
# ATS Java Crawler v0.4.1 - OTIMIZADO
# ===========================================

# Server
server.port=8080

# Database
spring.datasource.url=${DB_URL:jdbc:postgresql://localhost:5432/ats}
spring.datasource.username=${DB_USER:postgres}
spring.datasource.password=${DB_PASS:postgres}
spring.datasource.hikari.maximum-pool-size=5
spring.datasource.hikari.minimum-idle=2
spring.datasource.hikari.connection-timeout=20000

# JPA
spring.jpa.hibernate.ddl-auto=update
spring.jpa.properties.hibernate.format_sql=false
spring.jpa.properties.hibernate.jdbc.batch_size=20
spring.jpa.properties.hibernate.order_inserts=true
spring.jpa.properties.hibernate.order_updates=true
spring.jpa.show-sql=false

# HTTP Client
http.connect-timeout=10000
http.socket-timeout=15000
http.max-retries=2

# Crawler
crawler.cron-expression=${CRON_EXPRESSION:0 0 7 * * *}
crawler.cron-zone=${CRON_ZONE:UTC}
crawler.expiry-days=${EXPIRY_DAYS:15}

# ============================================
# ? ATS FUNCIONANDO (baseado nos logs)
# ============================================

# ? Greenhouse - 803 jobs fetched (EXCELENTE!)
crawler.greenhouse-companies=${ATS_GREENHOUSE:robinhood,mercury,intercom,mixpanel,amplitude,poshmark,retool,webflow,lattice,ebanx,c6bank,stabilityai,marqeta,vercel}

# ? Ashby - 10 companies parsed (BOM)
crawler.ashby-companies=${ATS_ASHBY:ramp,notion,snowflake,shopify,cohere,characterai,jasper,buffer,helpscout,linear}

# ? BreezyHR - 4 jobs (BOM)
crawler.breezy-companies=${ATS_BREEZY:zapier,hubstaff,helloalice,everlaw}

# ? Recruitee - 6 jobs (BOM)
crawler.recruitee-companies=${ATS_RECRUITEE:timedoctor}

# ? Jobvite - 0 jobs mas funciona (MANTER)
crawler.jobvite-companies=${ATS_JOBVITE:instacart,doordash}

# ? DESABILITADOS (problemas identificados nos logs)

# Workable - 404 Not Found em todas companies

# Lever - 401 Unauthorized (precisa autenticação)
crawler.lever-companies=neon
crawler.teamtailor-companies=loft.teamtailor.com
crawler.workable-companies=revolut,canonical

filter.role-keywords=\\bjava\\b,\\bspring\\b,\\bkotlin\\b,\\bjvm\\b,backend engineer,java developer
filter.include-keywords=
filter.exclude-keywords=\
  us only,usa only,united states only,u.s. only,\
  must be in,must be located in,must reside in,\
  on-site,onsite,in-office,office located,\
  hybrid,\
  visa required,work authorization,\
  san francisco only,new york only,seattle only
# ============================================
# GOOGLE SHEETS - HABILITADO
# ============================================
sheets.enabled=${SHEETS_ENABLED:true}
sheets.spreadsheetId=1IMhleU9G85kCk48gHgGSp29uGkGlTY2lQatbqbUFkEs
google.credentials=./src/main/resources/credentials.json

# ============================================
# DISCORD
# ============================================
discord.webhook=${DISCORD_WEBHOOK:https://discord.com/api/webhooks/1435040141164023888/59G5zz9sc5fwSsir3R6HZ371WTD3q31BHNRBObVVHxs5NYvGnLmPwfxGqhyClteDRFGs}

# ============================================
# LOGGING
# ============================================
logging.level.root=INFO
logging.level.com.atscrawler=INFO
logging.level.org.springframework.web=WARN
logging.level.org.hibernate=WARN

# ============================================
# PERFORMANCE
# ============================================
spring.jpa.properties.hibernate.jdbc.fetch_size=50
spring.jpa.properties.hibernate.cache.use_second_level_cache=false
spring.jpa.properties.hibernate.cache.use_query_cache=false
spring.jpa.open-in-view=false
spring.main.lazy-initialization=false